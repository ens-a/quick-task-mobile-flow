# План рефакторинга архитектуры

## Текущие проблемы:
1. Смешение ролей в компонентах
2. Нелогичная структура папок
3. Отсутствие чёткой иерархии
4. Компоненты для разных ролей в одной папке

## Новая структура:

```
src/
├── components/
│   ├── common/           # Общие переиспользуемые компоненты
│   │   ├── OrderCard.tsx
│   │   ├── ClientCard.tsx
│   │   ├── OrdersList.tsx
│   │   └── modals/
│   │       ├── CreateOrderModal.tsx
│   │       └── EditOrderModal.tsx
│   ├── auth/             # Компоненты аутентификации
│   │   └── LoginForm.tsx
│   └── ui/               # UI компоненты (остаются)
├── pages/
│   ├── auth/
│   │   └── LoginPage.tsx
│   ├── executor/         # Страницы для исполнителей
│   │   ├── DashboardPage.tsx
│   │   └── ClientDetailsPage.tsx
│   ├── manager/          # Страницы для руководителей
│   │   ├── DashboardPage.tsx
│   │   ├── OrdersPage.tsx
│   │   ├── ExecutorsPage.tsx
│   │   ├── ClientsPage.tsx
│   │   ├── CatalogPage.tsx
│   │   ├── InvoicesPage.tsx
│   │   └── AnalyticsPage.tsx
│   └── Index.tsx
├── hooks/
│   ├── useOrderActions.ts
│   └── useAuth.ts        # Новый хук для аутентификации
├── types/
├── data/
└── lib/
```

## Преимущества новой структуры:

### 1. **Чёткое разделение по ролям**
- `/pages/executor/` — все страницы исполнителей
- `/pages/manager/` — все страницы руководителей
- `/components/common/` — общие компоненты

### 2. **Логичная иерархия**
- Страницы отдельно от компонентов
- Модальные окна в отдельной папке
- Аутентификация в отдельной папке

### 3. **Легкость навигации**
- Понятно, где искать код для конкретной роли
- Общие компоненты легко найти
- Нет путаницы между ролями

### 4. **Масштабируемость**
- Легко добавлять новые роли
- Простое добавление новых страниц
- Чёткие границы ответственности

## План миграции:

1. Создать новую структуру папок
2. Переместить файлы в соответствующие папки
3. Обновить импорты
4. Создать хук useAuth для управления аутентификацией
5. Обновить роутинг в Index.tsx
6. Протестировать функциональность

## Новые файлы для создания:

### useAuth.ts
```typescript
export const useAuth = () => {
  // Логика аутентификации
  // Управление состоянием пользователя
  // Типы пользователей
};
```

### LoginPage.tsx
```typescript
// Страница входа вместо компонента
```

### DashboardPage.tsx (executor)
```typescript
// Страница дашборда исполнителя
```

### DashboardPage.tsx (manager)
```typescript
// Страница дашборда руководителя
``` 